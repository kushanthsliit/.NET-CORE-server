<div class="container-fluid">
  <div class="row">
      <div class="col-sm-6">
        <!-- #employeeForm="ngForm" (ngSubmit)="onSubmit(); employeeForm.reset() -->

          <form #employeeForm="ngForm" class="mt-3" (ngSubmit)="submit(); employeeForm.reset()">

            {{employeeForm.value | json}}
            <hr/>
            {{empModel | json}}

            <div class="form-group">
              <label >Name</label>
              <input type="text" required #name="ngModel" class="form-control is-invalid" name="name" 
              [class.is-invalid]="name.invalid && name.touched"  [(ngModel)]="empModel.name">
              <small class="text-danger" [class.d-none]="name.valid || name.untouched">Name is required...!</small>
            </div>

            <div class="form-group">
              <label >City</label>
              <input type="text" required #city="ngModel" class="form-control" name="city"
              [class.is-invalid]="city.invalid && city.touched" [(ngModel)]="empModel.city">
              <small class="text-danger" [class.d-none]="city.valid || city.untouched">City is required...!</small>
            </div>

            <div class="form-group">
              <label>Department</label>
              <input type="text" #department="ngModel" class="form-control" name="department" [(ngModel)]="empModel.department" >
            </div>

            <div class="form-group">
              <label>Gender</label>
              <input type="text" #gender="ngModel" class="form-control" name="gender" [(ngModel)]="empModel.gender" >
            </div>

            <button type="submit" class="btn btn-primary" [class.d-none]="empExist == true" [disabled]="employeeForm.form.invalid">Submit</button>
            <button type="button" (click)="updateEmp()" [class.d-none]="empExist == false" [class.disabled]="employeeForm.form.invalid" class="btn btn-success">Update</button>

          </form>
      </div>

      <div class="col-sm-6 mt-5">
          <table class="table" >
              <thead class="thead-dark">
                <tr>
                  <th scope="col">Name</th>
                  <th scope="col">City</th>
                  <th scope="col">Department</th>
                  <th scope="col">Gender</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                
                <tr *ngFor = "let emp of employees" (click)="getEmpData(emp.employeeId)"> 
                    <td>{{emp.name}}</td>
                    <td>{{emp.city}}</td>
                    <td>{{emp.department}}</td>
                    <td>{{emp.gender}}</td>
                    <button class="btn btn-sm btn-outline-danger mt-2" (click) = "deleteRecord(emp.employeeId)">X</button>
                </tr>
              </tbody>
            </table>
      </div>
  </div>
  
</div>